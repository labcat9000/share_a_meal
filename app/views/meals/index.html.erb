<div class="view-toggle">
  <button class="toggle-button active" id="list-view-btn">List</button>
  <button class="toggle-button" id="map-view-btn">Map</button>
</div>

<div id="meal-list">
  <div class="meal-cards">
    <% @meals.each do |meal| %>
      <div class="meal-card">
        <h2><%= link_to meal.name, meal_path(meal) %></h2>
        <p><%= truncate(meal.description, length: 100) %></p>
        <p><strong>Ingredients:</strong> <%= meal.ingredients %></p>
        <p><strong>Category:</strong> <%= meal.category %></p>
        <p><strong>Cuisine:</strong> <%= meal.cuisine %></p>
        <p><strong>Cooked by:</strong> <%= meal.user.name if meal.user %></p>
        <%= link_to edit_meal_path(meal), title: "Edit" do %>
          <i class="fa fa-edit"></i>
        <% end %>

        <%= button_to meal_path(meal), method: :delete, data: { turbo_confirm: 'Are you sure?' }, class: 'unstyled-link' do %>
          <i class="fa fa-trash"></i>
        <% end %>
      </div>
    <% end %>
  </div>
</div>

<div id="meal-map" style="display: none;">
  <div class="map-wrapper">
    <div id="map" class="map-container"></div>
  </div>
  <div class="map-footer">
    <div class="map-location">
      <p><strong>Montreal, QC</strong><br><small>Location is approximate</small></p>
    </div>
    <div class="map-buttons">
      <button id="locate-btn" class="map-btn">📍 Locate</button>
      <button id="directions-btn" class="map-btn">🧭 Directions</button>
    </div>
  </div>
</div>
